<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InterviewGenius WebSocket æ¼”ç¤º</title>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #2d3748;
        }
        
        .status {
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .status.connected {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.disconnected {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }
        
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        button:disabled {
            background: #e2e8f0;
            color: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #4a5568;
        }
        
        input, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        input:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .log-container {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            height: 400px;
            overflow-y: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .log-entry {
            margin-bottom: 8px;
            padding: 4px 0;
        }
        
        .log-entry.info { color: #68d391; }
        .log-entry.error { color: #f56565; }
        .log-entry.warning { color: #f6e05e; }
        .log-entry.event { color: #63b3ed; }
        
        .timestamp {
            color: #a0aec0;
            font-size: 11px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
            font-weight: 500;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ InterviewGenius WebSocket æ¼”ç¤º</h1>
            <p>å®æ—¶é¢è¯•åŠŸèƒ½æµ‹è¯•æ§åˆ¶å°</p>
        </div>
        
        <div id="connectionStatus" class="status disconnected">
            âŒ æœªè¿æ¥
        </div>
        
        <div class="tabs">
            <div class="tab active" onclick="switchTab('connection')">è¿æ¥ç®¡ç†</div>
            <div class="tab" onclick="switchTab('interview')">é¢è¯•åŠŸèƒ½</div>
            <div class="tab" onclick="switchTab('voice')">è¯­éŸ³åŠŸèƒ½</div>
            <div class="tab" onclick="switchTab('advanced')">é«˜çº§åŠŸèƒ½</div>
        </div>
        
        <!-- è¿æ¥ç®¡ç† -->
        <div id="connection" class="tab-content active">
            <div class="input-group">
                <label for="serverUrl">æœåŠ¡å™¨åœ°å€:</label>
                <input type="text" id="serverUrl" value="http://localhost:5000" placeholder="http://localhost:5000">
            </div>
            
            <div class="input-group">
                <label for="authToken">è®¤è¯Token (å¯é€‰):</label>
                <input type="text" id="authToken" placeholder="JWT Token">
            </div>
            
            <div class="controls">
                <button onclick="connectSocket()">ğŸ”Œ è¿æ¥</button>
                <button onclick="disconnectSocket()">âŒ æ–­å¼€è¿æ¥</button>
                <button onclick="testPing()">ğŸ“ Pingæµ‹è¯•</button>
                <button onclick="clearLogs()">ğŸ§¹ æ¸…ç©ºæ—¥å¿—</button>
            </div>
        </div>
        
        <!-- é¢è¯•åŠŸèƒ½ -->
        <div id="interview" class="tab-content">
            <div class="input-group">
                <label for="interviewId">é¢è¯•ID:</label>
                <input type="text" id="interviewId" value="demo_interview_001" placeholder="é¢è¯•ä¼šè¯ID">
            </div>
            
            <div class="input-group">
                <label for="userId">ç”¨æˆ·ID:</label>
                <input type="number" id="userId" value="1" placeholder="ç”¨æˆ·ID">
            </div>
            
            <div class="controls">
                <button onclick="joinInterview()">ğŸ  åŠ å…¥é¢è¯•æˆ¿é—´</button>
                <button onclick="leaveInterview()">ğŸšª ç¦»å¼€æˆ¿é—´</button>
                <button onclick="getInterviewStatus()">ğŸ“Š è·å–çŠ¶æ€</button>
                <button onclick="startQuestion()">â“ å¼€å§‹é—®é¢˜</button>
                <button onclick="submitAnswer()">âœ… æäº¤ç­”æ¡ˆ</button>
                <button onclick="endInterview()">ğŸ ç»“æŸé¢è¯•</button>
            </div>
            
            <div class="input-group">
                <label for="messageText">æ¶ˆæ¯å†…å®¹:</label>
                <textarea id="messageText" rows="3" placeholder="è¾“å…¥æ¶ˆæ¯å†…å®¹..."></textarea>
                <button onclick="sendMessage()" style="margin-top: 10px;">ğŸ’¬ å‘é€æ¶ˆæ¯</button>
            </div>
        </div>
        
        <!-- è¯­éŸ³åŠŸèƒ½ -->
        <div id="voice" class="tab-content">
            <div class="controls">
                <button onclick="startRecording()">ğŸ¤ å¼€å§‹å½•éŸ³</button>
                <button onclick="stopRecording()">ğŸ›‘ åœæ­¢å½•éŸ³</button>
                <button onclick="sendVoiceData()">ğŸ“¤ å‘é€è¯­éŸ³æ•°æ®</button>
            </div>
            
            <div class="input-group">
                <label>å½•éŸ³çŠ¶æ€: <span id="recordingStatus">æœªå¼€å§‹</span></label>
                <audio id="audioPlayback" controls style="width: 100%; margin-top: 10px;"></audio>
            </div>
        </div>
        
        <!-- é«˜çº§åŠŸèƒ½ -->
        <div id="advanced" class="tab-content">
            <div class="controls">
                <button onclick="requestHelp()">ğŸ†˜ è¯·æ±‚å¸®åŠ©</button>
                <button onclick="emergencyStop()">ğŸš¨ ç´§æ€¥åœæ­¢</button>
                <button onclick="getServerStatus()">ğŸ“Š æœåŠ¡å™¨çŠ¶æ€</button>
                <button onclick="testConcurrentConnections()">ğŸ‘¥ å¹¶å‘æµ‹è¯•</button>
            </div>
            
            <div class="input-group">
                <label for="helpType">å¸®åŠ©ç±»å‹:</label>
                <select id="helpType">
                    <option value="hint">æç¤º</option>
                    <option value="clarification">æ¾„æ¸…</option>
                    <option value="technical">æŠ€æœ¯é—®é¢˜</option>
                    <option value="general">ä¸€èˆ¬å¸®åŠ©</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="container">
        <h3>ğŸ“‹ å®æ—¶æ—¥å¿—</h3>
        <div id="logContainer" class="log-container"></div>
    </div>

    <script>
        let socket = null;
        let mediaRecorder = null;
        let recordedChunks = [];
        let isRecording = false;
        
        // æ—¥å¿—åŠŸèƒ½
        function log(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.innerHTML = `<span class="timestamp">[${timestamp}]</span> ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        function clearLogs() {
            document.getElementById('logContainer').innerHTML = '';
        }
        
        // æ›´æ–°è¿æ¥çŠ¶æ€
        function updateConnectionStatus(connected, message = '') {
            const statusElement = document.getElementById('connectionStatus');
            if (connected) {
                statusElement.className = 'status connected';
                statusElement.innerHTML = `âœ… å·²è¿æ¥ ${message}`;
            } else {
                statusElement.className = 'status disconnected';
                statusElement.innerHTML = `âŒ æœªè¿æ¥ ${message}`;
            }
        }
        
        // WebSocketè¿æ¥
        function connectSocket() {
            const serverUrl = document.getElementById('serverUrl').value;
            const authToken = document.getElementById('authToken').value;
            
            if (socket && socket.connected) {
                log('å·²ç»è¿æ¥åˆ°æœåŠ¡å™¨', 'warning');
                return;
            }
            
            try {
                log(`æ­£åœ¨è¿æ¥åˆ° ${serverUrl}...`, 'info');
                
                const options = {};
                if (authToken) {
                    options.auth = { token: authToken };
                }
                
                socket = io(serverUrl, options);
                
                // è¿æ¥äº‹ä»¶
                socket.on('connect', () => {
                    log('WebSocketè¿æ¥æˆåŠŸï¼', 'info');
                    updateConnectionStatus(true);
                });
                
                socket.on('connected', (data) => {
                    log(`æœåŠ¡å™¨ç¡®è®¤è¿æ¥: ${JSON.stringify(data)}`, 'event');
                    updateConnectionStatus(true, `(Session: ${data.session_id})`);
                });
                
                socket.on('disconnect', () => {
                    log('WebSocketè¿æ¥æ–­å¼€', 'warning');
                    updateConnectionStatus(false);
                });
                
                socket.on('error', (error) => {
                    log(`WebSocketé”™è¯¯: ${JSON.stringify(error)}`, 'error');
                });
                
                // ä¸šåŠ¡äº‹ä»¶ç›‘å¬
                setupEventListeners();
                
            } catch (error) {
                log(`è¿æ¥å¤±è´¥: ${error.message}`, 'error');
                updateConnectionStatus(false);
            }
        }
        
        function disconnectSocket() {
            if (socket) {
                socket.disconnect();
                socket = null;
                log('ä¸»åŠ¨æ–­å¼€è¿æ¥', 'info');
                updateConnectionStatus(false);
            }
        }
        
        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            if (!socket) return;
            
            // é€šç”¨å“åº”
            socket.on('pong', (data) => {
                log(`Pongå“åº”: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('test_response', (data) => {
                log(`æµ‹è¯•å“åº”: ${JSON.stringify(data)}`, 'event');
            });
            
            // åœ¨çº¿ç”¨æˆ·æ•°
            socket.on('online_users', (data) => {
                log(`åœ¨çº¿ç”¨æˆ·æ•°: ${data.count}`, 'info');
            });
            
            // é¢è¯•ç›¸å…³äº‹ä»¶
            socket.on('joined_interview', (data) => {
                log(`åŠ å…¥é¢è¯•æˆ¿é—´: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('left_interview', (data) => {
                log(`ç¦»å¼€é¢è¯•æˆ¿é—´: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('participant_joined', (data) => {
                log(`æ–°å‚ä¸è€…åŠ å…¥: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('participant_left', (data) => {
                log(`å‚ä¸è€…ç¦»å¼€: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('question_started', (data) => {
                log(`é—®é¢˜å¼€å§‹: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('answer_submitted', (data) => {
                log(`ç­”æ¡ˆæäº¤: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('answer_confirmed', (data) => {
                log(`ç­”æ¡ˆç¡®è®¤: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('interview_ended', (data) => {
                log(`é¢è¯•ç»“æŸ: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('interview_status_response', (data) => {
                log(`é¢è¯•çŠ¶æ€: ${JSON.stringify(data)}`, 'event');
            });
            
            // æ¶ˆæ¯äº‹ä»¶
            socket.on('new_message', (data) => {
                log(`æ–°æ¶ˆæ¯: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('user_typing', (data) => {
                log(`ç”¨æˆ·æ­£åœ¨è¾“å…¥: ${JSON.stringify(data)}`, 'info');
            });
            
            // è¯­éŸ³äº‹ä»¶
            socket.on('voice_processing', (data) => {
                log(`è¯­éŸ³å¤„ç†ä¸­: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('voice_transcribed', (data) => {
                log(`è¯­éŸ³è½¬å½•å®Œæˆ: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('live_transcription', (data) => {
                log(`å®æ—¶è½¬å½•: ${JSON.stringify(data)}`, 'event');
            });
            
            // å¸®åŠ©äº‹ä»¶
            socket.on('help_requested', (data) => {
                log(`å¸®åŠ©è¯·æ±‚: ${JSON.stringify(data)}`, 'event');
            });
            
            socket.on('help_request_sent', (data) => {
                log(`å¸®åŠ©è¯·æ±‚å·²å‘é€: ${JSON.stringify(data)}`, 'event');
            });
            
            // ç³»ç»Ÿæ¶ˆæ¯
            socket.on('system_message', (data) => {
                log(`ç³»ç»Ÿæ¶ˆæ¯: ${JSON.stringify(data)}`, 'info');
            });
        }
        
        // æµ‹è¯•åŠŸèƒ½
        function testPing() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const timestamp = Date.now();
            socket.emit('ping', { timestamp });
            log(`å‘é€Ping: ${timestamp}`, 'info');
        }
        
        // é¢è¯•åŠŸèƒ½
        function joinInterview() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            socket.emit('join_interview', {
                interview_id: interviewId,
                user_id: userId
            });
            
            log(`åŠ å…¥é¢è¯•æˆ¿é—´: ${interviewId}`, 'info');
        }
        
        function leaveInterview() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            socket.emit('leave_interview', {
                interview_id: interviewId,
                user_id: userId
            });
            
            log(`ç¦»å¼€é¢è¯•æˆ¿é—´: ${interviewId}`, 'info');
        }
        
        function getInterviewStatus() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            
            socket.emit('interview_status', {
                interview_id: interviewId
            });
            
            log(`è·å–é¢è¯•çŠ¶æ€: ${interviewId}`, 'info');
        }
        
        function startQuestion() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            
            socket.emit('start_question', {
                interview_id: interviewId,
                question_id: Date.now(),
                question_text: 'è¯·ä»‹ç»ä¸€ä¸‹æ‚¨çš„ç¼–ç¨‹ç»éªŒå’Œé¡¹ç›®ç»å†ã€‚'
            });
            
            log('å¼€å§‹æ–°é—®é¢˜', 'info');
        }
        
        function submitAnswer() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            socket.emit('submit_answer', {
                interview_id: interviewId,
                question_id: Date.now(),
                answer_text: 'æˆ‘æœ‰3å¹´çš„Pythonå¼€å‘ç»éªŒï¼Œå‚ä¸è¿‡å¤šä¸ªWebåº”ç”¨é¡¹ç›®...',
                user_id: userId,
                response_time: 45
            });
            
            log('æäº¤ç­”æ¡ˆ', 'info');
        }
        
        function endInterview() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            socket.emit('end_interview', {
                interview_id: interviewId,
                user_id: userId
            });
            
            log('ç»“æŸé¢è¯•', 'info');
        }
        
        function sendMessage() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            const message = document.getElementById('messageText').value;
            
            if (!message.trim()) {
                log('è¯·è¾“å…¥æ¶ˆæ¯å†…å®¹', 'warning');
                return;
            }
            
            socket.emit('send_message', {
                interview_id: interviewId,
                user_id: userId,
                message: message,
                type: 'text'
            });
            
            log(`å‘é€æ¶ˆæ¯: ${message}`, 'info');
            document.getElementById('messageText').value = '';
        }
        
        // è¯­éŸ³åŠŸèƒ½
        async function startRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                
                mediaRecorder = new MediaRecorder(stream);
                recordedChunks = [];
                
                mediaRecorder.ondataavailable = (event) => {
                    if (event.data.size > 0) {
                        recordedChunks.push(event.data);
                    }
                };
                
                mediaRecorder.onstop = () => {
                    const blob = new Blob(recordedChunks, { type: 'audio/webm' });
                    const audioUrl = URL.createObjectURL(blob);
                    document.getElementById('audioPlayback').src = audioUrl;
                };
                
                mediaRecorder.start();
                isRecording = true;
                
                document.getElementById('recordingStatus').textContent = 'å½•éŸ³ä¸­...';
                log('å¼€å§‹å½•éŸ³', 'info');
                
            } catch (error) {
                log(`å½•éŸ³å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                
                document.getElementById('recordingStatus').textContent = 'å½•éŸ³å®Œæˆ';
                log('å½•éŸ³ç»“æŸ', 'info');
            }
        }
        
        function sendVoiceData() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            if (recordedChunks.length === 0) {
                log('è¯·å…ˆå½•éŸ³', 'warning');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            // æ¨¡æ‹Ÿå‘é€éŸ³é¢‘æ•°æ®
            const mockAudioData = new ArrayBuffer(1024); // 1KBæ¨¡æ‹Ÿæ•°æ®
            
            socket.emit('voice_data', {
                interview_id: interviewId,
                audio_data: mockAudioData,
                user_id: userId,
                chunk_id: 0,
                is_final: true
            });
            
            log('å‘é€è¯­éŸ³æ•°æ®', 'info');
        }
        
        // é«˜çº§åŠŸèƒ½
        function requestHelp() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            const helpType = document.getElementById('helpType').value;
            
            socket.emit('request_help', {
                interview_id: interviewId,
                user_id: userId,
                help_type: helpType,
                question_id: Date.now()
            });
            
            log(`è¯·æ±‚å¸®åŠ©: ${helpType}`, 'info');
        }
        
        function emergencyStop() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            const interviewId = document.getElementById('interviewId').value;
            const userId = parseInt(document.getElementById('userId').value);
            
            socket.emit('end_interview', {
                interview_id: interviewId,
                user_id: userId,
                emergency: true
            });
            
            log('è§¦å‘ç´§æ€¥åœæ­¢', 'warning');
        }
        
        function getServerStatus() {
            if (!socket || !socket.connected) {
                log('è¯·å…ˆè¿æ¥åˆ°æœåŠ¡å™¨', 'error');
                return;
            }
            
            socket.emit('test_message', {
                message: 'Server Status Check',
                timestamp: Date.now()
            });
            
            log('è¯·æ±‚æœåŠ¡å™¨çŠ¶æ€', 'info');
        }
        
        function testConcurrentConnections() {
            log('å¹¶å‘è¿æ¥æµ‹è¯•åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }
        
        // æ ‡ç­¾é¡µåˆ‡æ¢
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾é¡µæ´»åŠ¨çŠ¶æ€
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            log('WebSocketæ¼”ç¤ºé¡µé¢åŠ è½½å®Œæˆ', 'info');
            log('è¯·ç‚¹å‡»"è¿æ¥"æŒ‰é’®å¼€å§‹æµ‹è¯•', 'info');
        });
    </script>
</body>
</html> 