<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OfferOtter OAuth Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-blue-50 to-blue-200 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <div class="inline-flex items-center space-x-3 mb-4">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-600 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-xl">O</span>
                    </div>
                    <h1 class="text-3xl font-bold text-gray-800">OfferOtter OAuth Demo</h1>
                </div>
                <p class="text-gray-600">Test Google and Facebook OAuth integration</p>
            </div>

            <!-- Demo Cards -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <!-- Login Page Demo -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">üîê Login Page</h3>
                    <p class="text-gray-600 mb-4">Visit the login page to test OAuth buttons:</p>
                    <a href="http://localhost:3000/login" 
                       target="_blank"
                       class="inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                        Open Login Page
                    </a>
                </div>

                <!-- OAuth Callback Demo -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">üîÑ OAuth Callback</h3>
                    <p class="text-gray-600 mb-4">Test the OAuth callback page directly:</p>
                    <a href="http://localhost:3000/auth/callback?code=demo_code&state=demo_state" 
                       target="_blank"
                       class="inline-block bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors">
                        Test Callback Page
                    </a>
                </div>
            </div>

            <!-- Features -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h3 class="text-2xl font-semibold text-gray-800 mb-6">‚ú® Features Implemented</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-3">üü¢ Frontend Features</h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>‚úÖ Google OAuth 2.0 integration</li>
                            <li>‚úÖ Facebook OAuth integration</li>
                            <li>‚úÖ OAuth callback page handling</li>
                            <li>‚úÖ State parameter validation</li>
                            <li>‚úÖ Error handling and user feedback</li>
                            <li>‚úÖ Automatic redirection flow</li>
                            <li>‚úÖ Loading states and UI feedback</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-3">‚öôÔ∏è Technical Implementation</h4>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>‚úÖ OAuthService class for authentication</li>
                            <li>‚úÖ Secure session storage for state</li>
                            <li>‚úÖ URL parameter parsing</li>
                            <li>‚úÖ Environment variable configuration</li>
                            <li>‚úÖ React Router integration</li>
                            <li>‚úÖ TypeScript type safety</li>
                            <li>‚úÖ Responsive UI design</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Configuration -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">‚öôÔ∏è Configuration Required</h3>
                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                    <p class="text-yellow-800 font-medium mb-2">‚ö†Ô∏è To enable OAuth functionality:</p>
                    <ol class="text-sm text-yellow-700 space-y-1 ml-4">
                        <li>1. Copy <code>frontend/.env.example</code> to <code>frontend/.env.local</code></li>
                        <li>2. Get Google OAuth Client ID from Google Cloud Console</li>
                        <li>3. Get Facebook App ID from Facebook Developer Console</li>
                        <li>4. Update environment variables with real OAuth credentials</li>
                    </ol>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-700 mb-2">Environment Variables:</h4>
                    <pre class="text-sm text-gray-600 overflow-x-auto">
VITE_GOOGLE_CLIENT_ID=your-google-client-id
VITE_FACEBOOK_APP_ID=your-facebook-app-id
VITE_OAUTH_REDIRECT_URI=http://localhost:3000/auth/callback</pre>
                </div>
            </div>

            <!-- Testing -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">ÔøΩÔøΩ Testing Instructions</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">1. Frontend Service</h4>
                        <p class="text-gray-600 text-sm">Make sure frontend is running on <code>http://localhost:3000</code></p>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">2. Click OAuth Buttons</h4>
                        <p class="text-gray-600 text-sm">Visit the login page and click "Continue with Google" or "Continue with Facebook"</p>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">3. Expected Behavior</h4>
                        <ul class="text-sm text-gray-600 space-y-1 ml-4">
                            <li>‚Ä¢ Browser redirects to OAuth provider (Google/Facebook)</li>
                            <li>‚Ä¢ User authorizes the application</li>
                            <li>‚Ä¢ Browser redirects back to <code>/auth/callback</code></li>
                            <li>‚Ä¢ Callback page processes the authorization</li>
                            <li>‚Ä¢ User is redirected to home page after success</li>
                        </ul>
                    </div>

                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">4. Debug Console</h4>
                        <p class="text-gray-600 text-sm">Check browser console for OAuth flow debug information</p>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-8 pt-6 border-t border-gray-200">
                <p class="text-gray-500 text-sm">
                    üìö For detailed setup instructions, see <code>OAUTH_SETUP.md</code>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Add some interactive demo functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Check if frontend is running
            fetch('http://localhost:3000')
                .then(response => {
                    if (response.ok) {
                        console.log('‚úÖ Frontend service is running');
                    }
                })
                .catch(error => {
                    console.warn('‚ö†Ô∏è Frontend service may not be running on localhost:3000');
                    
                    // Show warning banner
                    const banner = document.createElement('div');
                    banner.className = 'fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 px-4 z-50';
                    banner.innerHTML = '‚ö†Ô∏è Frontend service not detected. Please start with <code>npm run dev</code>';
                    document.body.insertBefore(banner, document.body.firstChild);
                });
        });
    </script>
</body>
</html>
