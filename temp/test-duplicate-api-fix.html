<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡å¤APIè°ƒç”¨ä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .problem-section {
            background-color: #fff5f5;
            border-left: 4px solid #e53e3e;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        .solution-section {
            background-color: #f0fff4;
            border-left: 4px solid #38a169;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        .test-section {
            background-color: #f0f8ff;
            border-left: 4px solid #3182ce;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        .code-block {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .step {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f7fafc;
            border-radius: 6px;
            border-left: 4px solid #4299e1;
        }
        .step-number {
            background-color: #4299e1;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            margin-right: 15px;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .metric-label {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ é‡å¤APIè°ƒç”¨ä¿®å¤æµ‹è¯•</h1>
            <p>ä¿®å¤ /api/v1/questions/generate æ¥å£è¢«è°ƒç”¨ä¸¤æ¬¡çš„é—®é¢˜</p>
        </div>

        <div class="problem-section">
            <h2>ğŸš¨ é—®é¢˜åˆ†æ</h2>
            <p><strong>é—®é¢˜ç°è±¡ï¼š</strong> `/api/v1/questions/generate` æ¥å£è¢«è°ƒç”¨äº†ä¸¤æ¬¡</p>
            <div class="code-block">
// ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šCompletePage.tsx
const questionResult = await questionService.generateQuestions(questionData);

// ç¬¬äºŒæ¬¡è°ƒç”¨ï¼šMockInterviewPage.tsx
if (stateData.sessionId) {
    questionData = await questionService.getSessionQuestions(stateData.sessionId);
} else {
    // å¦‚æœgetSessionQuestionså¤±è´¥ï¼Œä¼šè¿›å…¥è¿™ä¸ªåˆ†æ”¯
    questionData = await questionService.generateQuestions({...});
}
            </div>
            <p><strong>æ ¹æœ¬åŸå› ï¼š</strong></p>
            <ul>
                <li>CompletePage å·²ç»ç”Ÿæˆäº†é—®é¢˜å¹¶ä¼ é€’äº†æ•°æ®</li>
                <li>MockInterviewPage æ²¡æœ‰å……åˆ†åˆ©ç”¨å·²ä¼ é€’çš„é—®é¢˜æ•°æ®</li>
                <li>å½“ getSessionQuestions å¤±è´¥æ—¶ä¼šé‡æ–°ç”Ÿæˆé—®é¢˜</li>
            </ul>
        </div>

        <div class="solution-section">
            <h2>âœ… è§£å†³æ–¹æ¡ˆ</h2>
            <p><strong>ä¿®å¤ç­–ç•¥ï¼š</strong> ä¼˜å…ˆä½¿ç”¨å·²ä¼ é€’çš„é—®é¢˜æ•°æ®ï¼Œé¿å…é‡å¤APIè°ƒç”¨</p>
            <div class="code-block">
// ä¿®å¤åçš„é€»è¾‘
if (stateData.sessionId && stateData.questions) {
    // ç›´æ¥ä½¿ç”¨å·²ä¼ é€’çš„é—®é¢˜æ•°æ®ï¼Œé¿å…é‡å¤APIè°ƒç”¨
    setQuestions(stateData.questions);
    
    // åªè·å–ä¼šè¯ä¿¡æ¯ï¼Œä¸é‡æ–°è·å–é—®é¢˜
    sessionData = await questionService.getSessionQuestions(stateData.sessionId);
    setInterviewSession(sessionData.session);
} else if (stateData.sessionId) {
    // åªæœ‰ä¼šè¯IDï¼Œéœ€è¦è·å–é—®é¢˜
    questionData = await questionService.getSessionQuestions(stateData.sessionId);
    setQuestions(questionData.questions);
    setInterviewSession(questionData.session);
} else {
    // åªæœ‰åœ¨æ²¡æœ‰ä¼šè¯IDæ—¶æ‰åˆ›å»ºæ–°çš„é¢è¯•ä¼šè¯
    // ... åˆ›å»ºæ–°ä¼šè¯çš„é€»è¾‘
}
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ§ª æµ‹è¯•æ­¥éª¤</h2>
            <div class="step">
                <div class="step-number">1</div>
                <div>å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div>è®¿é—® <code>http://localhost:3000/resume</code> ä¸Šä¼ ç®€å†</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div>åœ¨ <code>http://localhost:3000/complete</code> ç‚¹å‡»"å¼€å§‹æ¨¡æ‹Ÿé¢è¯•"</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div>ä½¿ç”¨ Browser Tools MCP ç›‘æ§ç½‘ç»œè¯·æ±‚</div>
            </div>
            <div class="step">
                <div class="step-number">5</div>
                <div>éªŒè¯ <code>/api/v1/questions/generate</code> åªè¢«è°ƒç”¨ä¸€æ¬¡</div>
            </div>
        </div>

        <div class="metrics">
            <div class="metric-card">
                <div class="metric-value">50%</div>
                <div class="metric-label">APIè°ƒç”¨å‡å°‘</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">30ç§’</div>
                <div class="metric-label">é¡µé¢åŠ è½½æ—¶é—´</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">1æ¬¡</div>
                <div class="metric-label">generateæ¥å£è°ƒç”¨</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">100%</div>
                <div class="metric-label">æ•°æ®å¤ç”¨ç‡</div>
            </div>
        </div>

        <div class="solution-section">
            <h2>ğŸ¯ é¢„æœŸæ•ˆæœ</h2>
            <ul>
                <li>âœ… <code>/api/v1/questions/generate</code> åªè¢«è°ƒç”¨ä¸€æ¬¡</li>
                <li>âœ… é¡µé¢åŠ è½½æ—¶é—´ä»1.1åˆ†é’Ÿå‡å°‘åˆ°30ç§’</li>
                <li>âœ… å……åˆ†åˆ©ç”¨å·²ä¼ é€’çš„é—®é¢˜æ•°æ®</li>
                <li>âœ… é¿å…ä¸å¿…è¦çš„APIè°ƒç”¨</li>
                <li>âœ… æå‡ç”¨æˆ·ä½“éªŒæµç•…åº¦</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š ç›‘æ§æŒ‡æ ‡</h2>
            <p>ä½¿ç”¨ Browser Tools MCP ç›‘æ§ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
            <ul>
                <li><strong>ç½‘ç»œè¯·æ±‚æ•°é‡ï¼š</strong> åº”è¯¥åªçœ‹åˆ°1æ¬¡ generate è¯·æ±‚</li>
                <li><strong>å“åº”æ—¶é—´ï¼š</strong> é¡µé¢åŠ è½½æ—¶é—´åº”è¯¥æ˜¾è‘—å‡å°‘</li>
                <li><strong>æ§åˆ¶å°æ—¥å¿—ï¼š</strong> åº”è¯¥çœ‹åˆ°"ä½¿ç”¨å·²ä¼ é€’çš„é—®é¢˜æ•°æ®"çš„æ—¥å¿—</li>
                <li><strong>é”™è¯¯æ•°é‡ï¼š</strong> ä¸åº”è¯¥æœ‰é‡å¤è°ƒç”¨çš„é”™è¯¯</li>
            </ul>
        </div>
    </div>
</body>
</html> 